<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="个人博客网站"><title>杭电acm1010-Tempter-of-the-Bone | 鸿的博客</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">杭电acm1010-Tempter-of-the-Bone</h1><a id="logo" href="/.">鸿的博客</a><p class="description">一饮一啄，皆有定数</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">杭电acm1010-Tempter-of-the-Bone</h1><div class="post-meta"><a href="/2018/12/24/程序日记本/杭电acm1010-Tempter-of-the-Bone/#comments" class="comment-count"></a><p><span class="date">Dec 24, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>#Tempter of the Bone</p>
<blockquote>
<p><strong>Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 65536/32768 K (Java/Others)<br>Total Submission(s): 133177    Accepted Submission(s): 35811</strong></p>
</blockquote>
<p>##Problem Description</p>
<blockquote>
<p>The doggie found a bone in an ancient maze, which fascinated him a lot. However, when he picked it up, the maze began to shake, and the doggie could feel the ground sinking. He realized that the bone was a trap, and he tried desperately to get out of this maze.<br>&nbsp;<br>The maze was a rectangle with sizes N by M. There was a door in the maze. At the beginning, the door was closed and it would open at the T-th second for a short period of time (less than 1 second). Therefore the doggie had to arrive at the door on exactly the T-th second. In every second, he could move one block to one of the upper, lower, left and right neighboring blocks. Once he entered a block, the ground of this block would start to sink and disappear in the next second. He could not stay at one block for more than one second, nor could he move into a visited block. Can the poor doggie survive? Please help him.<br> &nbsp;<br>Input<br>The input consists of multiple test cases. The first line of each test case contains three integers N, M, and T (1 &lt; N, M &lt; 7; 0 &lt; T &lt; 50), which denote the sizes of the maze and the time at which the door will open, respectively. The next N lines give the maze layout, with each line containing M characters. A character is one of the following:<br>&nbsp;<br>‘X’: a block of wall, which the doggie cannot enter;<br>‘S’: the start point of the doggie;<br>‘D’: the Door; or<br>‘.’: an empty block.<br>&nbsp;<br>The input is terminated with three 0’s. This test case is not to be processed.<br> &nbsp;<br>Output<br>For each test case, print in one line “YES” if the doggie can survive, or “NO” otherwise.<br> &nbsp;<br>Sample Input<br>4 4 5 S.X. ..X. ..XD …. 3 4 5 S.X. ..X. …D 0 0 0<br> &nbsp;<br>Sample Output<br>NO<br>YES</p>
</blockquote>
<p>##Solution</p>
<blockquote>
<p>典型的深度搜索问题，使用dfs算法求解</p>
</blockquote>
<p>##Code</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line">package acm1010;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * date:2017.11.23</span><br><span class="line"> * author:孟小德</span><br><span class="line"> * function: 杭电acm1010</span><br><span class="line"> *  Tempter of the Bone     深度搜索    bfs</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">class Node</span><br><span class="line">&#123;</span><br><span class="line">    int row,column;</span><br><span class="line"></span><br><span class="line">    public Node(int row,int column)</span><br><span class="line">    &#123;</span><br><span class="line">        this.row = row;</span><br><span class="line">        this.column = column;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Node()</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Main</span><br><span class="line">&#123;</span><br><span class="line">    public static int n,m,T;</span><br><span class="line">    public static boolean visit[][];</span><br><span class="line">    public static int dir[][] = &#123;&#123;1,0&#125;,&#123;-1,0&#125;,&#123;0,1&#125;,&#123;0,-1&#125;&#125;;</span><br><span class="line">    public static boolean yes;</span><br><span class="line">    public static Node start = new Node();</span><br><span class="line">    public static Node end = new Node();</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args)</span><br><span class="line">    &#123;</span><br><span class="line">        Scanner input = new Scanner(System.in);</span><br><span class="line"></span><br><span class="line">        while (input.hasNextLine())</span><br><span class="line">        &#123;</span><br><span class="line">            n = input.nextInt();</span><br><span class="line">            m = input.nextInt();</span><br><span class="line">            T = input.nextInt();</span><br><span class="line">            input.nextLine();</span><br><span class="line"></span><br><span class="line">            if (n == 0 &amp;&amp; m == 0 &amp;&amp; T == 0)</span><br><span class="line">            &#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            visit = new boolean[n][m];</span><br><span class="line">            yes = false;</span><br><span class="line"></span><br><span class="line">            int wall = 0;</span><br><span class="line">            //  输入</span><br><span class="line">            for (int i=0;i&lt;n;i++)</span><br><span class="line">            &#123;</span><br><span class="line">                String str = input.nextLine();</span><br><span class="line">                for (int j=0;j&lt;m;j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    char c = str.charAt(j);</span><br><span class="line">                    switch(c)</span><br><span class="line">                    &#123;</span><br><span class="line">                        case &apos;X&apos;:visit[i][j] = true;</span><br><span class="line">                            wall++;break;</span><br><span class="line">                        case &apos;S&apos;:start = new Node(i,j);break;</span><br><span class="line">                        case &apos;D&apos;:end = new Node(i,j);break;</span><br><span class="line">                        case &apos;.&apos;:break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (T&gt;n*m - wall - 1)</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(&quot;NO&quot;);</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            visit[start.row][start.column] = true;</span><br><span class="line">            dfs(start.row,start.column,0);</span><br><span class="line">            if (yes)</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(&quot;YES&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(&quot;NO&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void dfs(int row,int column,int time)</span><br><span class="line">    &#123;</span><br><span class="line">        for (int i=0;i&lt;dir.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            int a = row + dir[i][0];</span><br><span class="line">            int b = column + dir[i][1];//   往各个方向搜索</span><br><span class="line">            int thetime = time + 1;</span><br><span class="line">            if (thetime &gt;T)</span><br><span class="line">            &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (a&lt;0 || a&gt;=n || b&lt;0 || b&gt;=m)</span><br><span class="line">            &#123;   //  越界</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (visit[a][b] == true)</span><br><span class="line">            &#123;   // 被访问过</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (a == end.row &amp;&amp; b == end.column)</span><br><span class="line">            &#123;   // 当访问到终点时</span><br><span class="line">                if (thetime == T)</span><br><span class="line">                &#123;</span><br><span class="line">                    yes = true;</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //  每次递归都进行剪枝运算</span><br><span class="line">            int temp = T - thetime - Math.abs(a - end.row) - Math.abs(b - end.column);</span><br><span class="line">            if (temp % 2 == 1)</span><br><span class="line">            &#123;   // 当剪枝结果为奇数时，在该点无法在指定时间到达终点</span><br><span class="line">                //  此时没必要在这点进行递归，当返回上层递归往另一个方向</span><br><span class="line">                //  继续</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            visit[a][b] = true;</span><br><span class="line">            dfs(a,b,thetime);</span><br><span class="line">            //  同一个点在不同路径中可能被再次访问，因此</span><br><span class="line">            //  每一个路径中对应不同的visit</span><br><span class="line">            visit[a][b] = false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><div class="tags"></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/12/24/程序日记本/杭电acm1009-FatMouse'Trade/" class="pre">杭电acm1009-FatMouse'Trade</a><a href="/2018/12/24/程序日记本/杭电acm1022-Train-Problem-I/" class="next">杭电acm1022-Train-Problem-I</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/日常/MadonnapaystributetoMichaelJacksonatthememorialservice/">Madonna pays tribute to Michael Jackson at the memorial service</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/csp-2014-12-02Z字形扫描/">csp-2014-12-02-Z字形扫描</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/csp-2017-09-02公共钥匙盒/">csp-2017-09-02-公共钥匙盒</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/杭电acm-1052-田忌赛马/">杭电acm1052-田忌赛马</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/杭电acm-2544-最短路/">杭电acm2544-最短路</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/杭电acm1051-Wooden-Sticks/">杭电acm1051-Wooden-Sticks</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/杭电acm1003-Max-Sum/">杭电acm1003-Max-Sum</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/杭电acm1009-FatMouse'Trade/">杭电acm1009-FatMouse'Trade</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/杭电acm1010-Tempter-of-the-Bone/">杭电acm1010-Tempter-of-the-Bone</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/程序日记本/杭电acm1022-Train-Problem-I/">杭电acm1022-Train-Problem-I</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">cwhong.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>